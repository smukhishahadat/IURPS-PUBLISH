@model IUEMS.Areas.ControllerSection.Models.BalamViewModel
@{
    var student_info = ViewBag.std_dtls;
    var result = ViewBag.marks_list;

    int total_semester = result.Count;

    int first_sem_res_cnt = 0;
    int second_sem_res_cnt = 0;
    int third_sem_res_cnt = 0;
    int fourth_sem_res_cnt = 0;

    int fifth_sem_res_cnt = 0;
    int sixth_sem_res_cnt = 0;
    int seventh_sem_res_cnt = 0;
    int eight_sem_res_cnt = 0;

    var summery = ViewBag.summery;

}

<!DOCTYPE html>
<style type="text/css">
    .page-content {
        overflow: scroll !important;
    }

    .ui-autocomplete {
        z-index: 2147483647;
    }

    table {
        page-break-inside: auto
    }

    thead {
        display: table-header-group;
        page-break-after: always;
    }

    tbody {
        page-break-inside: avoid;
        page-break-after: always;
    }

    tfoot {
        display: table-footer-group;
    }

    tr {
        page-break-inside: avoid !important;
        page-break-after: auto;
    }

    td {
        page-break-inside: avoid;
        page-break-after: auto
    }

    th {
        font-size: 10px;
        ;
    }
</style>
<link href="../../assets/admin/layout/css/jquery-ui.css" rel="stylesheet" type="text/css" />
<script src="../../assets/admin/layout/scripts/jquery-ui.js"></script>
<link href="../../assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />

<center>
    <table class="" style="border-collapse:collapse;text-align: center;font-size:12px;width:100%;" border="0">
        <tr>
            <td valign="top" width="30%">
                <table class="" style="border-collapse:collapse;text-align: center;font-size:10px;width:100%;" border="1">
                    <tr>
                        <th>Marks Range</th>
                        <th>LG</th>
                        <th>GP</th>
                        <th>Remarks</th>
                    </tr>
                    @{ 
                        int ml = 0;
                        string mark_range = "";
                    }
                    @foreach(var grade_dtls in ViewBag.grade_dtls)
                    {
                        var min_mark = grade_dtls.MINIMUM_MARKS;
                        var max_mark = grade_dtls.MAXIMUM_MARKS;
                        if(ml==0)
                        {
                            mark_range = min_mark+"% and above";
                        }
                        else
                        {
                            mark_range = min_mark + "% to less than " + max_mark + "%";
                        }
                    <tr>
                        <td>@mark_range</td>
                        <td>@grade_dtls.LETTER_GRADE</td>
                        <td>@grade_dtls.GRADE_POINT</td>
                        <td>@grade_dtls.REMARKS</td>
                    </tr>
                        ml++;
                    }
                </table>
            </td>
            <td valign="top">
                <h1>Islamic University</h1>
                <img width="80" alt="" src="@Server.MapPath("~/assets/admin/layout/img/avatar3_small.png")">
                <h2>Academic Transcript</h2>
            </td>
            <td valign="top" width="20%">
                <table>
                    <tr>
                        <th align="right">Serial No.</th>
                        <td>001</td>
                    </tr>
                    <tr>
                        <th align="right">Issue No.</th>
                        <td>0101</td>
                    </tr>
                    <tr>
                        <th align="right">Date</th>
                        <td>01-01-2020</td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</center>
<br />

<table class="" style="border-collapse:collapse;text-align: left;font-size:12px;width:100%;" border="1">
    <tr id="">
        <td>Name</td>
        <td><b>@student_info.FULL_NAME</b></td>
        <td>Hall</td>
        <td>@student_info.ROLL</td>
    </tr>
    <tr>
        <td>Fathers's Name</td>
        <td>@student_info.FULL_NAME</td>
        <td>Duration of Program</td>
        <td>@student_info.ROLL</td>
    </tr>
    <tr>
        <td>Mother's Name</td>
        <td>@student_info.FULL_NAME</td>
        <td>Class Size</td>
        <td>@student_info.ROLL</td>
    </tr>
    <tr>
        <td>Date of Birth</td>
        <td>@student_info.FULL_NAME</td>
        <td>Session</td>
        <td>@student_info.APPLICANT_SESSION</td>
    </tr>
    <tr>
        <td>Degree Awarded</td>
        <td>@student_info.PROGRAM_NAME</td>
        <td>University Registration No.</td>
        <td>@student_info.REG_NO</td>
    </tr>
    <tr>
        <td>Decipline</td>
        <td>@student_info.DEPARTMENT_NAME</td>
        <td>Examination Roll No.</td>
        <td>@student_info.ROLL</td>
    </tr>
    <tr>
        <td>Faculty</td>
        <td>@student_info.FACULTY_NAME</td>
        <td>Year of Examination</td>
        <td>@student_info.ROLL</td>
    </tr>
    <tr>
        <td>Entrance Qualification</td>
        <td>H.S.C</td>
        <td>Medium of Instruction</td>
        <td>English</td>
    </tr>

</table>

<center>
    <h2>Honours Courses</h2>
</center>
<table class="" style="border-collapse:collapse;text-align: left;font-size:10px;width:100%;" cellpadding="5" border="1">

    @if (total_semester > 0)
    {
        first_sem_res_cnt = result[0].Count + 1;
    }
    @if (total_semester > 1)
    {
        second_sem_res_cnt = result[1].Count;
    }

    <tr>
        <th align="center" colspan="6">First year</th>
    </tr>

    <tr>
        <th colspan="3" align="center">1st Semester</th>
        <th colspan="3" align="center">2nd Semester</th>
    </tr>
    <tr>
        <td>Course Code</td>
        <td>Course Name</td>
        <td>Letter Grade</td>

        <td>Course Code</td>
        <td>Course Name</td>
        <td>Letter Grade</td>
    </tr>
    <tr>
        <td style="font-size:10px;" valign="top">
            @if (total_semester > 0)
            {
                var first_sem_res = result[0];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_code = first_sem_res[i].COURSE_CODE;
                    <p>@course_code</p>
                }
            }
        </td>
        <td style="font-size:10px;" valign="top">
            @if (total_semester > 0)
            {
                var first_sem_res = result[0];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_name = first_sem_res[i].COURSE_NAME;
                    <p>@course_name</p>
                }
            }
        </td>
        <td style="font-size:10px;" valign="top">
            @if (total_semester > 0)
            {
                var first_sem_res = result[0];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var letter_grade = first_sem_res[i].LETTER_GRADE;
                    <p>@letter_grade</p>
                }
            }
        </td>

        <td style="font-size:10px;;">
            @if (total_semester > 0)
            {
                var first_sem_res = result[1];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_code = first_sem_res[i].COURSE_CODE;
                    <p>@course_code</p>
                }
            }
        </td>
        <td style="font-size:10px;;">
            @if (total_semester > 0)
            {
                var first_sem_res = result[1];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_name = first_sem_res[i].COURSE_NAME;
                    <p>@course_name</p>
                }
            }
        </td>
        <td style="font-size:10px;;">
            @if (total_semester > 0)
            {
                var first_sem_res = result[1];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var letter_grade = first_sem_res[i].LETTER_GRADE;
                    <p>@letter_grade</p>
                }
            }
        </td>
    </tr>

</table>
<br />
<table class="" style="border-collapse:collapse;text-align: left;font-size:10px;width:100%;" cellpadding="5" border="1">

    @if (total_semester > 2)
    {
        third_sem_res_cnt = result[2].Count + 1;
    }
    @if (total_semester > 3)
    {
        fourth_sem_res_cnt = result[3].Count;
    }


    <tr>
        <th colspan="6" align="center">Second year</th>
    </tr>

    <tr>
        <th colspan="3" align="center">1st Semester</th>
        <th colspan="3" align="center">2nd Semester</th>
    </tr>
    <tr>
        <td>Course Code</td>
        <td>Course Name</td>
        <td>Letter Grade</td>

        <td>Course Code</td>
        <td>Course Name</td>
        <td>Letter Grade</td>
    </tr>
    <tr>
        <td style="font-size:10px;" valign="top">
            @if (total_semester > 2)
            {
                var first_sem_res = result[2];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_code = first_sem_res[i].COURSE_CODE;
                    <p>@course_code</p>
                }
            }
        </td>
        <td style="font-size:10px;" valign="top">
            @if (total_semester > 2)
            {
                var first_sem_res = result[2];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_name = first_sem_res[i].COURSE_NAME;
                    <p>@course_name</p>
                }
            }
        </td>
        <td style="font-size:10px;" valign="top">
            @if (total_semester > 2)
            {
                var first_sem_res = result[2];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var letter_grade = first_sem_res[i].LETTER_GRADE;
                    <p>@letter_grade</p>
                }
            }
        </td>

        <td style="font-size:10px;;">
            @if (total_semester > 3)
            {
                var first_sem_res = result[3];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_code = first_sem_res[i].COURSE_CODE;
                    <p>@course_code</p>
                }
            }
        </td>
        <td style="font-size:10px;;">
            @if (total_semester > 3)
            {
                var first_sem_res = result[3];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_name = first_sem_res[i].COURSE_NAME;
                    <p>@course_name</p>
                }
            }
        </td>
        <td style="font-size:10px;;">
            @if (total_semester > 3)
            {
                var first_sem_res = result[3];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var letter_grade = first_sem_res[i].LETTER_GRADE;
                    <p>@letter_grade</p>
                }
            }
        </td>
    </tr>

</table>
<br />
<table class="" style="border-collapse:collapse;text-align: left;font-size:10px;width:100%;" cellpadding="5" border="1">

    @if (total_semester > 4)
    {
        fifth_sem_res_cnt = result[4].Count + 1;
    }
    @if (total_semester > 5)
    {
        sixth_sem_res_cnt = result[5].Count;
    }


    <tr>
        <th colspan="6" align="center">Third year</th>
    </tr>

    <tr>
        <th colspan="3" align="center">1st Semester</th>
        <th colspan="3" align="center">2nd Semester</th>
    </tr>
    <tr>
        <td>Course Code</td>
        <td>Course Name</td>
        <td>Letter Grade</td>

        <td>Course Code</td>
        <td>Course Name</td>
        <td>Letter Grade</td>
    </tr>
    <tr>
        <td style="font-size:10px;" valign="top">
            @if (total_semester > 4)
            {
                var first_sem_res = result[4];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_code = first_sem_res[i].COURSE_CODE;
                    <p>@course_code</p>
                }
            }
        </td>
        <td style="font-size:10px;" valign="top">
            @if (total_semester > 4)
            {
                var first_sem_res = result[4];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_name = first_sem_res[i].COURSE_NAME;
                    <p>@course_name</p>
                }
            }
        </td>
        <td style="font-size:10px;" valign="top">
            @if (total_semester > 4)
            {
                var first_sem_res = result[4];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var letter_grade = first_sem_res[i].LETTER_GRADE;
                    <p>@letter_grade</p>
                }
            }
        </td>

        <td style="font-size:10px;;">
            @if (total_semester > 5)
            {
                var first_sem_res = result[5];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_code = first_sem_res[i].COURSE_CODE;
                    <p>@course_code</p>
                }
            }
        </td>
        <td style="font-size:10px;;">
            @if (total_semester > 5)
            {
                var first_sem_res = result[5];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_name = first_sem_res[i].COURSE_NAME;
                    <p>@course_name</p>
                }
            }
        </td>
        <td style="font-size:10px;;">
            @if (total_semester > 5)
            {
                var first_sem_res = result[5];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var letter_grade = first_sem_res[i].LETTER_GRADE;
                    <p>@letter_grade</p>
                }
            }
        </td>
    </tr>
</table>
<br />
<table class="" style="border-collapse:collapse;text-align: left;font-size:10px;width:100%;" cellpadding="5" border="1">

    @if (total_semester > 6)
    {
        seventh_sem_res_cnt = result[6].Count + 1;
    }
    @if (total_semester > 7)
    {
        eight_sem_res_cnt = result[7].Count;
    }


    <tr>
        <th colspan="6" align="center">Fourth year</th>
    </tr>

    <tr>
        <th colspan="3" align="center">1st Semester</th>
        <th colspan="3" align="center">2nd Semester</th>
    </tr>
    <tr>
        <td>Course Code</td>
        <td>Course Name</td>
        <td>Letter Grade</td>

        <td>Course Code</td>
        <td>Course Name</td>
        <td>Letter Grade</td>
    </tr>
    <tr>
        <td style="font-size:10px;" valign="top">
            @if (total_semester > 6)
            {
                var first_sem_res = result[6];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_code = first_sem_res[i].COURSE_CODE;
                    <p>@course_code</p>
                }
            }
        </td>
        <td style="font-size:10px;" valign="top">
            @if (total_semester > 6)
            {
                var first_sem_res = result[6];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_name = first_sem_res[i].COURSE_NAME;
                    <p>@course_name</p>
                }
            }
        </td>
        <td style="font-size:10px;" valign="top">
            @if (total_semester > 6)
            {
                var first_sem_res = result[6];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var letter_grade = first_sem_res[i].LETTER_GRADE;
                    <p>@letter_grade</p>
                }
            }
        </td>

        <td style="font-size:10px;;">
            @if (total_semester >7)
            {
                var first_sem_res = result[7];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_code = first_sem_res[i].COURSE_CODE;
                    <p>@course_code</p>
                }
            }
        </td>
        <td style="font-size:10px;;">
            @if (total_semester > 7)
            {
                var first_sem_res = result[7];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var course_name = first_sem_res[i].COURSE_NAME;
                    <p>@course_name</p>
                }
            }
        </td>
        <td style="font-size:10px;;">
            @if (total_semester > 7)
            {
                var first_sem_res = result[7];
                for (int i = 0; i < first_sem_res.Count; i++)
                {
                    var letter_grade = first_sem_res[i].LETTER_GRADE;
                    <p>@letter_grade</p>
                }
            }
        </td>
    </tr>
</table>
<br />
<center>
    <table class="" style="border-collapse:collapse;text-align: left;font-size:10px;width:30%;" cellpadding="5" border="1">
        <tr>
            <td><b>Result: CGPA</b></td>
            <td><b>:</b></td>
            <td><b>@summery.AVG_POINT</b></td>
        </tr>
        <tr>
            <td><b>Letter Grade</b></td>
            <td><b>:</b></td>
            <td><b>@summery.LETTER_GRADE</b></td>
        </tr>
        <tr>
            <td><b>Interpretation</b></td>
            <td><b>:</b></td>
            <td><b>@summery.REMARKS</b></td>
        </tr>
    </table>
</center>




@section Scripts
{
    @Scripts.Render("~/bundles/jqueryval")
    <script src="~/Scripts/_global.js"></script>
    <script src="~/Scripts/MvcGrid/mvc-grid.js"></script>
    <link href="~/Content/MvcGrid/mvc-grid.css" rel="stylesheet" />
    <link href="~/Content/font-awesome.css" rel="stylesheet" />
    <link href="~/Content/_global.css" rel="stylesheet" />
}